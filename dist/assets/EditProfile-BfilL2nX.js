import{u as c,a as u,r,j as e,G as y,B as f,J as b,_ as l}from"./index-5MAERdYZ.js";import{u as g,t as h,F as S,a as _,E as w}from"./FieldInput-xwG_iDql.js";import{u as C}from"./user-D7o2cjek.js";import"./arrow-RKXFU_Q2.js";import"./tslib.es6-CMwweBXX.js";import"./db-DwcLxr1r.js";const T=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Congo (Congo-Kinshasa)","Costa Rica","Croatia","Cuba","Cyprus","Czechia (Czech Republic)","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (formerly Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Vatican City (Holy See)","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];function P(){const d=c(),a=u(t=>t.user.userDetails),[o,s]=r.useState(!1),n=g({resolver:h(w),defaultValues:{full_name:(a==null?void 0:a.full_name)||"",email:(a==null?void 0:a.email)||"",user_name:(a==null?void 0:a.user_name)||"",password:(a==null?void 0:a.password)||"",postal_code:(a==null?void 0:a.postal_code)||"",dob:(a==null?void 0:a.dob)||"",city:(a==null?void 0:a.city)||"",country:(a==null?void 0:a.country)||"",permanent_address:(a==null?void 0:a.permanent_address)||"",present_address:(a==null?void 0:a.present_address)||""}}),m=[{name:"full_name",label:"Your Name",fieldType:"input"},{name:"user_name",label:"User Name",fieldType:"input"},{name:"email",label:"Email",fieldType:"input",props:{type:"email",inputMode:"email"}},{name:"password",label:"Password",fieldType:"input",props:{type:"password"}},{name:"dob",label:"Date of Birth",fieldType:"date",props:{type:"date"}},{name:"present_address",label:"Present Address",fieldType:"input"},{name:"permanent_address",label:"Permanent Address",fieldType:"input"},{name:"city",label:"City",fieldType:"input"},{name:"postal_code",label:"Postal Code",fieldType:"input",props:{type:"numeric"}},{name:"country",label:"Country",fieldType:"select",props:{options:T}}];async function p(t){try{s(!0);const i=await C(t);i.success&&(d(b(i.data)),l.success("Profile updated successfully"))}catch(i){l.error((i==null?void 0:i.message)||"Error occured")}finally{s(!1)}}return r.useEffect(()=>{a&&n.reset({full_name:(a==null?void 0:a.full_name)||"",email:(a==null?void 0:a.email)||"",user_name:(a==null?void 0:a.user_name)||"",password:(a==null?void 0:a.password)||"",postal_code:(a==null?void 0:a.postal_code)||"",dob:(a==null?void 0:a.dob)||"",city:(a==null?void 0:a.city)||"",country:(a==null?void 0:a.country)||"",permanent_address:(a==null?void 0:a.permanent_address)||"",present_address:(a==null?void 0:a.present_address)||""})},[a,n]),e.jsxs("div",{className:"md:px-6 py-6 w-full flex items-center md:items-start md flex-col md:flex-row gap-4 md:gap-14",children:[e.jsx("div",{children:e.jsx(y,{edit:!0,className:o?"pointer-events-none opacity-70":""})}),e.jsx(S,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(p),className:"w-full flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-x-6 text-dark",children:[e.jsx(_,{form:n,fields:m,loading:o}),e.jsx("div",{className:"col-span-1 md:col-span-2 flex items-center justify-end",children:e.jsx(f,{loading:o,className:"w-full md:w-auto px-16",type:"submit",children:"Save"})})]})})]})}export{P as default};
